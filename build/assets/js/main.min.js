"use strict";function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,n=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){n=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(n)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}document.addEventListener("DOMContentLoaded",(function(){var e,t,r,a,o,c;window.addEventListener("scroll",(function(){var e=document.querySelector(".header"),t=document.querySelector(".header__logo-link"),r=document.querySelector(".header__phone-link"),a=document.querySelector(".header__socials-list"),o=document.querySelector(".hamb-btn"),c=document.querySelector(".container--header"),n=window.pageYOffset,s=document.querySelector(".hamburger");n>=100&&!s.classList.contains("is-active")?(e.classList.add("active"),t.classList.add("active"),r.classList.add("active"),o.classList.add("active"),c.classList.add("active"),a.classList.add("disabled")):(e.classList.remove("active"),t.classList.remove("active"),r.classList.remove("active"),o.classList.remove("active"),c.classList.remove("active"),a.classList.remove("disabled"),s.classList.contains("is-active")&&s.click())})),document.querySelector(".hamb-btn").addEventListener("click",(function(){var e=document.querySelector(".hamburger"),t=document.querySelector(".header__navigation"),r=document.querySelector(".header"),a=document.querySelector(".container--header"),o=document.querySelector(".header__phone-link"),c=document.querySelector(".header__socials-list"),n=document.querySelector(".header__logo-link");e.classList.toggle("is-active"),t.classList.toggle("hamb"),r.classList.toggle("hamb"),a.classList.toggle("hamb"),n.classList.toggle("hamb"),o.classList.toggle("hamb"),c.classList.toggle("hamb")})),function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll("[href^='#']"));try{var r=function(){var t=e.value;t.addEventListener("click",(function(e){e.preventDefault();var r=document.querySelector(t.getAttribute("href")).getBoundingClientRect().top,a=window.pageYOffset,o=null;requestAnimationFrame((function e(t){null===o&&(o=t);var c=t-o,n=r<0?Math.max(a-c/.2,a+r):Math.min(a+c/.2,a+r);window.scrollTo(0,n),n!==a+r&&requestAnimationFrame(e)}))}))};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}}(),e=[document.querySelector("#installBtn"),document.querySelector("#serviceBtn"),document.querySelector("#rentBtn")],t=document.querySelector("#installForm"),r=document.querySelector("#serviceForm"),a=document.querySelector("#rentForm"),o=document.querySelector(".forms"),c=document.querySelectorAll(".forms__closeBtn"),e.forEach((function(e){e.addEventListener("click",(function(e){var c=e.target.id,n=document.querySelector("body");switch(o.classList.add("active"),n.style.overflow="hidden",c){case"installBtn":t.classList.add("active");break;case"serviceBtn":r.classList.add("active");break;case"rentBtn":a.classList.add("active")}})),c.forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelector("body");t.classList.remove("active"),r.classList.remove("active"),a.classList.remove("active"),e.style.overflow="unset",o.classList.remove("active")}))})),o.addEventListener("click",(function(e){if("forms active"==e.target.classList.value){var c=document.querySelector("body");t.classList.remove("active"),r.classList.remove("active"),a.classList.remove("active"),c.style.overflow="unset",o.classList.remove("active")}}))}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJpIiwiRiIsInMiLCJuIiwibGVuZ3RoIiwiZG9uZSIsInZhbHVlIiwiZSIsIl9lIiwiZiIsIlR5cGVFcnJvciIsIml0IiwiZXJyIiwibm9ybWFsQ29tcGxldGlvbiIsImRpZEVyciIsInN0ZXAiLCJuZXh0IiwiX2UyIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiYXJyIiwibGVuIiwiYXJyMiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJ1dHRvbnNBcnIiLCJpbnN0YWxsRm9ybSIsInNlcnZpY2VGb3JtIiwicmVudEZvcm0iLCJmb3JtQXJlYSIsImNsb3NlRm9ybUJ0biIsIndpbmRvdyIsImhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvIiwicGhvbmUiLCJzb2NpYWxzIiwiaGFtYnVyZ2VyIiwiY29udGFpbmVySGVhZCIsInNjcm9sbEhlaWdodCIsInBhZ2VZT2Zmc2V0IiwiaGFtYnVyZ2VyQnRuIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJjbGljayIsIm5hdiIsInRvZ2dsZSIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIl9sb29wIiwiaXRlciIsInByZXZlbnREZWZhdWx0IiwiY29vcmRBbmNob3IiLCJnZXRBdHRyaWJ1dGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJ3aW5kb3dZIiwic3RhcnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwicHJvZ3Jlc3MiLCJjb29yZFkiLCJNYXRoIiwibWF4IiwibWluIiwic2Nyb2xsVG8iLCJhbmNob3JMaW5rIiwiZm9yRWFjaCIsIml0ZW0iLCJpZCIsInRhcmdldCIsImJvZHkiLCJzdHlsZSIsIm92ZXJmbG93Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLDJCQUEyQkMsR0FBSyxHQUFzQixvQkFBWEMsUUFBZ0QsTUFBdEJELEVBQUVDLE9BQU9DLFVBQW1CLENBQUUsR0FBSUMsTUFBTUMsUUFBUUosS0FBT0EsRUFBSUssNEJBQTRCTCxJQUFLLENBQUUsSUFBSU0sRUFBSSxFQUFPQyxFQUFJLGFBQWlCLE1BQU8sQ0FBRUMsRUFBR0QsRUFBR0UsRUFBRyxXQUFlLE9BQUlILEdBQUtOLEVBQUVVLE9BQWUsQ0FBRUMsTUFBTSxHQUFlLENBQUVBLE1BQU0sRUFBT0MsTUFBT1osRUFBRU0sT0FBV08sRUFBRyxTQUFXQyxHQUFNLE1BQU1BLEdBQU9DLEVBQUdSLEdBQU8sTUFBTSxJQUFJUyxVQUFVLHlJQUE0SSxJQUFJQyxFQUE2Q0MsRUFBekNDLEdBQW1CLEVBQU1DLEdBQVMsRUFBWSxNQUFPLENBQUVaLEVBQUcsV0FBZVMsRUFBS2pCLEVBQUVDLE9BQU9DLGFBQWdCTyxFQUFHLFdBQWUsSUFBSVksRUFBT0osRUFBR0ssT0FBc0MsT0FBOUJILEVBQW1CRSxFQUFLVixLQUFhVSxHQUFTUixFQUFHLFNBQVdVLEdBQU9ILEdBQVMsRUFBTUYsRUFBTUssR0FBUVIsRUFBRyxXQUFlLElBQVdJLEdBQW9DLE1BQWhCRixFQUFXLFFBQVdBLEVBQVcsU0FBTyxRQUFVLEdBQUlHLEVBQVEsTUFBTUYsS0FFNTNCLFNBQVNiLDRCQUE0QkwsRUFBR3dCLEdBQVUsR0FBS3hCLEVBQUwsQ0FBZ0IsR0FBaUIsaUJBQU5BLEVBQWdCLE9BQU95QixrQkFBa0J6QixFQUFHd0IsR0FBUyxJQUFJZixFQUFJaUIsT0FBT0MsVUFBVUMsU0FBU0MsS0FBSzdCLEdBQUc4QixNQUFNLEdBQUksR0FBaUUsTUFBbkQsV0FBTnJCLEdBQWtCVCxFQUFFK0IsY0FBYXRCLEVBQUlU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QyxJQUFJNkUsRUFBT25ELFNBQVNVLGNBQWMsUUFFbENQLEVBQVlnQixVQUFVRyxPQUFPLFVBQzdCbEIsRUFBWWUsVUFBVUcsT0FBTyxVQUM3QmpCLEVBQVNjLFVBQVVHLE9BQU8sVUFDMUI2QixFQUFLQyxNQUFNQyxTQUFXLFFBQ3RCL0MsRUFBU2EsVUFBVUcsT0FBTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIGZ1bmN0aW9uKCkge1xuICAvLyDQkNC90LDQu9C+0LMgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAvLyBzY3JvbGwgRXZlbnRcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHNjcm9sbGAsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJgKTtcbiAgICBjb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhlYWRlcl9fbG9nby1saW5rYCk7XG4gICAgY29uc3QgcGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyX19waG9uZS1saW5rYCk7XG4gICAgY29uc3Qgc29jaWFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJfX3NvY2lhbHMtbGlzdGApO1xuICAgIGNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oYW1iLWJ0bmApO1xuICAgIGNvbnN0IGNvbnRhaW5lckhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY29udGFpbmVyLS1oZWFkZXJgKTtcbiAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgY29uc3QgaGFtYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhhbWJ1cmdlcmApO1xuXG4gICAgaWYgKHNjcm9sbEhlaWdodCA+PSAxMDAgJiYgIWhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QuY29udGFpbnMoYGlzLWFjdGl2ZWApKSB7XG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChgYWN0aXZlYCk7XG4gICAgICBsb2dvLmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApO1xuICAgICAgcGhvbmUuY2xhc3NMaXN0LmFkZChgYWN0aXZlYCk7XG4gICAgICBoYW1idXJnZXIuY2xhc3NMaXN0LmFkZChgYWN0aXZlYCk7XG4gICAgICBjb250YWluZXJIZWFkLmNsYXNzTGlzdC5hZGQoYGFjdGl2ZWApO1xuICAgICAgc29jaWFscy5jbGFzc0xpc3QuYWRkKGBkaXNhYmxlZGApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYCk7XG4gICAgICBsb2dvLmNsYXNzTGlzdC5yZW1vdmUoYGFjdGl2ZWApO1xuICAgICAgcGhvbmUuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYCk7XG4gICAgICBoYW1idXJnZXIuY2xhc3NMaXN0LnJlbW92ZShgYWN0aXZlYCk7XG4gICAgICBjb250YWluZXJIZWFkLmNsYXNzTGlzdC5yZW1vdmUoYGFjdGl2ZWApO1xuICAgICAgc29jaWFscy5jbGFzc0xpc3QucmVtb3ZlKGBkaXNhYmxlZGApO1xuICAgICAgaWYgKGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QuY29udGFpbnMoYGlzLWFjdGl2ZWApKSB7XG4gICAgICAgIGhhbWJ1cmdlckJ0bi5jbGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gaHVtYnVyZ2VyIGNsaWNrXG4gIGNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oYW1iLWJ0bmApO1xuICBoYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBoYW1idXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGFtYnVyZ2VyYCk7XG4gICAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhlYWRlcl9fbmF2aWdhdGlvbmApO1xuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJgKTtcbiAgICBjb25zdCBjb250YWluZXJIZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmNvbnRhaW5lci0taGVhZGVyYCk7XG4gICAgY29uc3QgcGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyX19waG9uZS1saW5rYCk7XG4gICAgY29uc3Qgc29jaWFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJfX3NvY2lhbHMtbGlzdGApO1xuICAgIGNvbnN0IGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyX19sb2dvLWxpbmtgKTtcblxuICAgIGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKGBpcy1hY3RpdmVgKTtcbiAgICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShgaGFtYmApO1xuICAgIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKGBoYW1iYCk7XG4gICAgY29udGFpbmVySGVhZC5jbGFzc0xpc3QudG9nZ2xlKGBoYW1iYCk7XG4gICAgbG9nby5jbGFzc0xpc3QudG9nZ2xlKGBoYW1iYCk7XG4gICAgcGhvbmUuY2xhc3NMaXN0LnRvZ2dsZShgaGFtYmApO1xuICAgIHNvY2lhbHMuY2xhc3NMaXN0LnRvZ2dsZShgaGFtYmApO1xuICB9KTtcblxuICBmdW5jdGlvbiBhbmNob3JMaW5rKCkge1xuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2hyZWZePScjJ11gKTtcbiAgICBjb25zdCBWID0gMC4yOyAvLyBzY3JvbGxpbmcgc3BlZWRcblxuICAgIGZvciAoY29uc3QgaXRlciBvZiBsaW5rcykge1xuICAgICAgaXRlci5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpdGVyLmdldEF0dHJpYnV0ZShgaHJlZmApKTtcbiAgICAgICAgY29uc3QgY29vcmRBbmNob3IgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICBjb25zdCB3aW5kb3dZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgIGxldCBzdGFydCA9IG51bGw7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAodGltZSkge1xuICAgICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHRpbWUgLSBzdGFydDtcblxuICAgICAgICAgIGNvbnN0IGNvb3JkWSA9XG4gICAgICAgICAgICBjb29yZEFuY2hvciA8IDBcbiAgICAgICAgICAgICAgPyBNYXRoLm1heCh3aW5kb3dZIC0gcHJvZ3Jlc3MgLyBWLCB3aW5kb3dZICsgY29vcmRBbmNob3IpXG4gICAgICAgICAgICAgIDogTWF0aC5taW4od2luZG93WSArIHByb2dyZXNzIC8gViwgd2luZG93WSArIGNvb3JkQW5jaG9yKTtcblxuICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBjb29yZFkpO1xuICAgICAgICAgIGlmIChjb29yZFkgIT09IHdpbmRvd1kgKyBjb29yZEFuY2hvcikge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGFuY2hvckxpbmsoKTtcblxuICBmdW5jdGlvbiBzaG93Rm9ybSgpIHtcbiAgICBjb25zdCBpbnN0YWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnN0YWxsQnRuXCIpO1xuICAgIGNvbnN0IHNlcnZpY2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlcnZpY2VCdG5cIik7XG4gICAgY29uc3QgcmVudEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVudEJ0blwiKTtcbiAgICBjb25zdCBidXR0b25zQXJyID0gW2luc3RhbGxCdG4sIHNlcnZpY2VCdG4sIHJlbnRCdG5dO1xuXG4gICAgY29uc3QgaW5zdGFsbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luc3RhbGxGb3JtXCIpO1xuICAgIGNvbnN0IHNlcnZpY2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZXJ2aWNlRm9ybVwiKTtcbiAgICBjb25zdCByZW50Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVudEZvcm1cIik7XG4gICAgY29uc3QgZm9ybUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1zXCIpO1xuICAgIGNvbnN0IGNsb3NlRm9ybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybXNfX2Nsb3NlQnRuXCIpO1xuXG4gICAgYnV0dG9uc0Fyci5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICAgIGxldCBpZCA9IGUudGFyZ2V0LmlkO1xuICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuXG4gICAgICAgIGZvcm1BcmVhLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICBjYXNlIFwiaW5zdGFsbEJ0blwiOlxuICAgICAgICAgICAgaW5zdGFsbEZvcm0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzZXJ2aWNlQnRuXCI6XG4gICAgICAgICAgICBzZXJ2aWNlRm9ybS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJlbnRCdG5cIjpcbiAgICAgICAgICAgIHJlbnRGb3JtLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNsb3NlRm9ybUJ0bi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuXG4gICAgICAgICAgaW5zdGFsbEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICBzZXJ2aWNlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIHJlbnRGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwidW5zZXRcIjtcbiAgICAgICAgICBmb3JtQXJlYS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3JtQXJlYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09IFwiZm9ybXMgYWN0aXZlXCIpIHtcbiAgICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuXG4gICAgICAgICAgaW5zdGFsbEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICBzZXJ2aWNlRm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIHJlbnRGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwidW5zZXRcIjtcbiAgICAgICAgICBmb3JtQXJlYS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dGb3JtKCk7XG59KTtcbiJdfQ==
